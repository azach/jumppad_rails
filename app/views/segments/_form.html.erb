<%= form_for [@trip, @segment] do |f| %>
  <% if @segment.errors.any? %>
    <div id="error_explanation" class="alert-message block-message error">
      <%= pluralize(@segment.errors.count, "error") %> prohibited this trip from being saved:

      <ul>
      <% @segment.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div>
  	<div class="clearfix">
    <%= label_tag(:location, "Location:") %>
    <div class="input">
    <%= text_field_tag :location, @segment.location %>
    </div>
    </div>

    <div class="clearfix">
    <%= label_tag(:description, "Description:") %>
    <div class="input">
  	<%= text_area_tag :description, @segment.description, :class => 'xxlarge', :rows => 3, :maxlength => 255 %>
  	</div>
  	</div>

		<div class="clearfix">
		<%= label_tag("Start Date") %>
		<div class="input">	
  	<%= select_date @segment.start_date.nil? ? Date.today : @segment.start_date, :prefix => :start_date %>
  	</div>
  	</div>

  	<div class="clearfix">
  	<%= label_tag("End Date") %>
  	<div class="input">
  	<%= select_date @segment.end_date.nil? ? Date.today + 1.week : @segment.end_date, :prefix => :end_date %>
  	</div>
  	</div>

		<div class="input">
		<%= submit_tag 'Save Segment', :class => 'btn primary' %>    
    <%= link_to 'Cancel', trip_path(@trip), :class => 'btn' %>
		</div>

    </div>
  </div>
<% end %>